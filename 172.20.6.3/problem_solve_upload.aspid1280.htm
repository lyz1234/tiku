<!doctype html public "-//w3c//dtd html 4.01 transitional//en" "http://www.w3.org/tr/html4/loose.dtd"><HTML>
<!-- saved from url=(0050)http://172.20.6.3/Problem_Solve_Upload.asp?ID=1280 -->
<SCRIPT language="JavaScript">
<!--
  function CatchJavaScriptErrors() {return true;}
  window.onerror = CatchJavaScriptErrors;
//-->
</SCRIPT>

<html>
<head>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<title>Oj - vijos - P1280</title>
<Meta http-equiv="Content-Type"      Content="text/html; charset=gb2312">
<Meta http-equiv="Pragma"            Content="No-cach">
<Meta name="Kyewords"                Content="Vijos,高效信息学在线评测系统,Velocious Informatics Judge Online System,Vivian Utopia,Viviworks,信息学,评测,OJ">
<Meta name="Description"             Content="Vijos,高效信息学在线评测系统,Velocious Informatics Judge Online System,Vivian Utopia,Viviworks,信息学,评测,OJ">
<Meta name="Robots"                  Content="All">
<Meta name="Author"                  Content="cp1305@163.com">
<Meta name="Copyright"               Content="Copyright Vijos (c) 2005. www.Vijos.cn Powered by Vivian Snow">
<Meta name="Generator "              Content="Dreamweaver,Visual Studio .net 2003">
<link href="skin/vijos%20black/style.css" rel="stylesheet" type="text/css">

<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<script language="javascript">
window.status="欢迎访问OJ!";
</script>
</head>
<body>
<div align="center">  
  <table width="750" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td colspan="2" align="center"><img src="skin/vijos%20black/haed.gif" width="750" height="70" border="0" usemap="#MapHead"></a><map name="MapHead" id="MapHead"><area shape="rect" coords="71,1,153,21" href="skin.asp.htm" alt="点击这里更换您喜欢的皮肤" /><area shape="rect" coords="0,0,750,70"  alt="首页" /></map></td>
    </tr>
	
    <tr>
      <td height="25" align="right" bgcolor="#525252">
	  <font class="styletext">
	  提交 128 / 226  题 (57%)
	  
	  </font>&nbsp;<a href="default.htm"><font class="style3">首页</font></a>
	  <a href="core.asp.htm"><font class="style3">站务</font></a>
	  <a href="news.asp.htm"><font class="style3">公告</font></a> 
<a href="problem_data.asp.htm"><font class="style3">数据</a></font>
	  <font class="style3">|</font> <a href="problem.asp.htm"><font class="style3">题库</font></a>
	  <a href="categories.asp.htm"><font class="style3">分类</font></a>
	  <a href="record.asp.htm"><font class="style3">记录</font></a>
	  <a href="test.asp.htm"><font class="style3">测试</font></a>
	  <a href="rank.asp.htm"><font class="style3">排名</font></a>
	  <a href="group.asp.htm"><font class="style3">团队</font></a>
	  <a href="discuss.asp.htm"><font class="style3">讨论</font></a> <font class="style3">| </font><a href="uspace.asp.htm"><font class="style3">User Space</font></a> <a href="skin.asp.htm"><font class="style3">换肤</font></a><font class="style3">|</font><a href="logout.asp"><font class="style3">登出</font></a>
	  </td>
      <td align="center" bgcolor="#525252">&nbsp;</td>
    </tr>

    <tr>
      <td colspan="2" height="5" bgcolor="#5B5B5B"></td>
    </tr>
	<tr>
      <td colspan="2" align="center" bgcolor="#5B5B5B">
	  
	  
	  <table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td width="14" height="14" background="skin/vijos%20black/frame_r1_c1.gif"></td>
          <td background="skin/vijos%20black/frame_r1_c2.gif"></td>
          <td width="14" height="14" background="skin/vijos%20black/frame_r1_c3.gif"></td>
        </tr>
        <tr>
          <td background="skin/vijos%20black/frame_r2_c1.gif"></td>
          <td width="712" align="left" valign="middle">
		  <marquee align="right" direction="left" scrollamount="4" onMouseOver="this.stop();" onMouseOut="this.start();">
		  <font color="#003366"><b>公告 News &gt;&gt;</b></font>
		  
		  　　<a href="news.asp.htm#12"><font color="#006699"><b>题库第5页是历年noip原题</b> (2012-3-5 17:19:20)</font></a>
		  
		  　　<a href="news.asp.htm#10"><font color="#006699"><b>第一次wa意味这道题的锻炼机会失去了。</b> (2012-2-15 16:35:47)</font></a>
		  
		  　　<a href="news.asp.htm#7"><font color="#006699"><b>程序设计=算法+数据结构</b> (2011-12-4 23:42:52)</font></a>
		  
		  　　<a href="news.asp.htm#6"><font color="#006699"><b>c++ = c plus plus = cpp</b> (2011-11-28 11:12:24)</font></a>
		  
		  　　<a href="news.asp.htm#1"><font color="#006699"><b>oj重新开张，注册须知，否则封号。</b> (2002-1-1 21:41:45)</font></a>
		  
		  </marquee>
		  </td>
          <td background="skin/vijos%20black/frame_r2_c3.gif"></td>
        </tr>
        <tr>
          <td width="14" height="14" background="skin/vijos%20black/frame_r3_c1.gif"></td>
          <td background="skin/vijos%20black/frame_r3_c2.gif"></td>
          <td width="14" height="14" background="skin/vijos%20black/frame_r3_c3.gif"></td>
        </tr>
      </table>
	  <hr>
	  </td>
    </tr>
  <table width="750" border="0" cellpadding="0" cellspacing="0">
	<tr>
      <td colspan="2" align="center" bgcolor="#5B5B5B">
<script>
document.title=document.title+" - 破锣乐队"
</script>
<table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
  <tr>
    <td width="14" height="14" background="skin/vijos%20black/frame_r1_c1.gif"></td>
    <td background="skin/vijos%20black/frame_r1_c2.gif"></td>
    <td width="14" height="14" background="skin/vijos%20black/frame_r1_c3.gif"></td>
  </tr>
  <tr>
    <td background="skin/vijos%20black/frame_r2_c1.gif"></td>
    <td width="712" align="left" valign="top"><table border="0" align="right" cellpadding="0" cellspacing="0">
      <tr>
        <td><span style="font-weight: bold">From</span> <a href="user_show.aspid10625.htm">easthong</a></td>
      </tr>
    </table>      <a href="problem_show.aspid1280.htm"><font class="style1">破锣乐队</font></a></td>
    <td background="skin/vijos%20black/frame_r2_c3.gif"></td>
  </tr>
  <tr>
    <td width="14" height="14" background="skin/vijos%20black/frame_r3_c1.gif"></td>
    <td background="skin/vijos%20black/frame_r3_c2.gif"></td>
    <td width="14" height="14" background="skin/vijos%20black/frame_r3_c3.gif"></td>
  </tr>
</table>
<table width="740" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="540" valign="top">
<table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
  <tr>
    <td width="14" height="14" background="skin/vijos%20black/frame_r1_c1.gif"></td>
    <td colspan="2" background="skin/vijos%20black/frame_r1_c2.gif"></td>
    <td width="14" height="14" background="skin/vijos%20black/frame_r1_c3.gif"></td>
  </tr>
  <tr>
    <td rowspan="2" background="skin/vijos%20black/frame_r2_c1.gif"></td>
    <td width="512" height="20" colspan="2" align="left" valign="top" class="style2">题解 Solution</td>
    <td rowspan="2" background="skin/vijos%20black/frame_r2_c3.gif"></td>
  </tr>
  <tr>
    <td width="10" align="left" valign="top">&nbsp;</td>
    <td width="502" align="right" valign="top">
      <table width="100%" border="0" cellpadding="5" cellspacing="1" bgcolor="#DFDFDF">
	  <form name="form1" method="post" action="Problem_Solve_Upload_Submit.asp?ID=1280">
        <tr align="center" bgcolor="#F5F5F5">
          <td align="center" valign="top" bgcolor="#DFDFDF"><span style="font-weight: bold">题解 - Solution 
            
          </span></td>
        </tr>
        <tr align="center" bgcolor="#F5F5F5">
          <td align="center" valign="top" bgcolor="#F5F5F5" class="stylefornew">
            <textarea name="Body" cols="66" rows="10">[算法分析]
本题要求唱片中的歌曲必须按照它们创作顺序排序，这就满足了动态规划的无后效性要求，启发我们采用动态规划进行解题。
分析可知，该问题具有最优子结构性质，即：设最优录制方案中第i首歌录制的位置是从第j张唱片的第k分钟开始的，那么前j-1张唱片和第j张唱片的前k-1分钟是前1..i-1首歌的最优录制方案，也就是说，问题的最优解包含了子问题的最优解。
设n首歌曲按照写作顺序排序后的长度为long[1..n]，则动态规划的状态表示描述为：
g[i, j, k]，0≤i≤n，0≤j≤m，0≤k<t，表示前i首歌曲，用j张唱片另加k分钟来录制，最多可以录制的歌曲数目，则问题的最优解为g[n,m,0]。由于歌曲i有发行和不发行两种情况，而且还要分另加的k分钟是否能录制歌曲i。这样我们可以得到如下的状态转移方程和边界条件：
当k≥long[i]，i≥1时：
g[i, j, k]=max{g[i-1,j,k-long[i]]，g[i-1,j,k]}
当k<long[i]，i≥1时：
g[i, j, k]=max{g[i-1,j-1,t-long[i]]，g[i-1,j,k]}
规划的边界条件为：
当0≤k<t时：g[0,0,k]=0;
我们来分析上述算法的时间复杂度，上述算法的状态总数为O(n*m*t)，每个状态转移的状态数为O(1)，每次状态转移的时间为O(1)，所以总的时间复杂度为O(n*m*t)。由于n，m，t均不超过20，所以可以满足要求。
[算法优化]
当数据规模较大时，上述算法就无法满足要求，我们来考虑通过改进状态表示提高算法的时间效率。
本题的最优目标是用给定长度的若干张唱片录制尽可能多的歌曲，这实际上等价于在录制给定数量的歌曲时尽可能少地使用唱片。所谓“尽可能少地使用唱片”，就是指使用的完整的唱片数尽可能少，或是在使用的完整的唱片数相同的情况下，另加的分钟数尽可能少。分析可知，在这样的最优目标之下，该问题同样具有最优子结构性质，即：设D在前i首歌中选取j首歌录制的最少唱片使用方案，那么若其中选取了第i首歌，则D-{i}是在前i-1首歌中选取j-1首歌录制的最少唱片使用方案，否则D前i-1首歌中选取j首歌录制的最少唱片使用方案，同样，问题的最优解包含了子问题的最优解。
改进的状态表示描述为：
g[i, j]=(a, b)，0≤i≤n，0≤j≤i，0≤a≤m，0≤b≤t，表示在前i首歌曲中选取j首录制所需的最少唱片为：a张唱片另加b分钟。由于第i首歌分为发行和不发行两种情况，这样我们可以得到如下的状态转移方程和边界条件：
g[i, j]=min{g[i-1,j]，g[i-1,j-1]+long[i]} 
其中(a, b)+long[i]=(a’, b’)的计算方法为：
当long[i]≤t-b时： a’=a;     b’=b+long[i];
当long[i]>t-b时： a’=a+1;   b’=long[i];
规划的边界条件：
g[i,0]=(0,0)  0≤i≤n
这样题目所求的最大值是：ans=max{k| g[n, k]≤(m-1,t)}
改进后的算法，状态总数为O(n2)，每个状态转移的状态数为O(1)，每次状态转移的时间为O(1)，所以总的时间复杂度为O(n2)。值得注意的是，算法的空间复杂度也由改进前的O(m*n*t)降至优化后的O(n2)。
（程序及优化前后的运行结果比较见附件）
通过对本题的优化，我们认识到：应用不同的状态表示方法设计出的动态规划算法的性能也迥然不同。改进状态表示可以减少状态总数，进而降低算法的时间复杂度。在降低算法的时间复杂度的同时，也降低了算法的空间复杂度。因此，减少状态总数在动态规划的优化中占有重要的地位。

</textarea>
<br />修改理由:<br />
 <textarea name="Reason" cols="66" rows="3">没有理由</textarea>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td><span style="color: #0000FF">你可以在这里写上你的解题思路或者解题方法等<br>
但规定要求不能贴出任何有关于此题的程序代码</span><br></td>
                <td><input type="submit" name="Submit" value="点击这里修改/提交我的题解"></td>
              </tr>
            </table></td>
        </tr>
        </form>
      </table>
    </td>
</tr>
<tr>
 <td background="skin/vijos%20black/frame_r2_c1.gif"></td>
<td width="512" height="20" colspan="2" align="left" valign="top" class="style2">
<p>本题解由
easthong
编辑</p>
                </tr>
</td>
<td background="skin/vijos%20black/frame_r2_c3.gif"></td>
  </tr>
  <tr>
    <td width="14" height="14" background="skin/vijos%20black/frame_r3_c1.gif"></td>
    <td colspan="2" background="skin/vijos%20black/frame_r3_c2.gif"></td>
    <td width="14" height="14" background="skin/vijos%20black/frame_r3_c3.gif"></td>
  </tr>
</table>
	</td>
    <td width="200" valign="top"><table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
      <tr>
        <td width="14" height="14" background="skin/vijos%20black/frame_r1_c1.gif"></td>
        <td background="skin/vijos%20black/frame_r1_c2.gif"></td>
        <td width="14" height="14" background="skin/vijos%20black/frame_r1_c3.gif"></td>
      </tr>
      <tr>
        <td background="skin/vijos%20black/frame_r2_c1.gif"></td>
        <td width="172" valign="top"><table width="100%" border="0" cellpadding="0" cellspacing="1" bgcolor="#DFDFDF">
            <tr bgcolor="#CCCCCC">
              <td height="25" bgcolor="#CCCCCC"><div align="center" class="style1">Flag</div></td>
              <td align="left" bgcolor="#F5F5F5">　　</td>
            </tr>
            <tr bgcolor="#CCCCCC">
              <td height="25" bgcolor="#CCCCCC"><div align="center" style="font-weight: bold"><strong>题号</strong></div></td>
              <td align="left" bgcolor="#F5F5F5">　　<a href="problem_show.aspid1280.htm">P1280</a></td>
            </tr>
            <tr bgcolor="#CCCCCC">
            <td height="25" bgcolor="#CCCCCC"><div align="center" style="font-weight: bold"><strong><a href="#" title="请用鼠标拖动选择单元格中的文字即可显示类别">类型<span style="font-size: 9px">(?)</span></a></strong></div></td>
            <td align="left" bgcolor="#F5F5F5">　　<span style="color: #F5F5F5">动态规划</span></td>
          </tr>
            <tr bgcolor="#CCCCCC">
              <td height="25" bgcolor="#CCCCCC"><div align="center" style="font-weight: bold"><strong>通过</strong></div></td>
              <td align="left" bgcolor="#F5F5F5">　　<a href="problem_listok.aspid1280.htm">4人</a></td>
            </tr>
            <tr bgcolor="#CCCCCC">
              <td height="25" bgcolor="#CCCCCC"><div align="center" style="font-weight: bold"><strong>提交</strong></div></td>
              <td align="left" bgcolor="#F5F5F5">　　9次</td>
            </tr>
            <tr bgcolor="#CCCCCC">
              <td height="25" bgcolor="#CCCCCC"><div align="center" style="font-weight: bold"><strong>通过率</strong></div></td>
              <td align="left" bgcolor="#F5F5F5">　　44%</td>
            </tr>
            <tr bgcolor="#CCCCCC">
              <td width="60" height="25" bgcolor="#CCCCCC"><div align="center" style="font-weight: bold"><strong>难度</strong></div></td>
              <td width="109" align="left" bgcolor="#F5F5F5">　　1</td>
            </tr>
        </table></td>
        <td background="skin/vijos%20black/frame_r2_c3.gif"></td>
      </tr>
      <tr>
        <td width="14" height="14" background="skin/vijos%20black/frame_r3_c1.gif"></td>
        <td background="skin/vijos%20black/frame_r3_c2.gif"></td>
        <td width="14" height="14" background="skin/vijos%20black/frame_r3_c3.gif"></td>
      </tr>
    </table>
    <table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td width="14" height="14" background="skin/vijos%20black/frame_r1_c1.gif"></td>
          <td background="skin/vijos%20black/frame_r1_c2.gif"></td>
          <td width="14" height="14" background="skin/vijos%20black/frame_r1_c3.gif"></td>
        </tr>
        <tr>
          <td background="skin/vijos%20black/frame_r2_c1.gif"></td>
          <td width="172" valign="top"><table width="100%" height="25" border="0" cellpadding="0" cellspacing="0" bgcolor="#000000">
            <tr align="center">
              <td><span style="font-weight: bold"><a href="index.asp.htm">提交</a></span></td>
              <td><span style="font-weight: bold"><a href="problem_discuss.aspid1280.htm">讨论</a></span></td>
              <td><span style="font-weight: bold"><a href="index.asp.htm">题解</a></span></td>
            </tr>
          </table></td>
          <td background="skin/vijos%20black/frame_r2_c3.gif"></td>
        </tr>
        <tr>
          <td width="14" height="14" background="skin/vijos%20black/frame_r3_c1.gif"></td>
          <td background="skin/vijos%20black/frame_r3_c2.gif"></td>
          <td width="14" height="14" background="skin/vijos%20black/frame_r3_c3.gif"></td>
        </tr>
      </table></td>
  </tr>
</table>
	  </td>
    </tr>
    <tr>
      <td colspan="2" height="5" bgcolor="#5B5B5B"></td>
    </tr>

    <tr>
      <td colspan="2" height="5" bgcolor="#424242"></td>
    </tr>
      </table>
	  
  <table width="750" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td colspan="2" align="center" height="50">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
		  <tr>
			<td align="left" valign="top">
			  　Copyright &copy; 2011-2011. Vijos 高效信息学在线评测系统</a>
			  <script type="text/javascript" src="../js.tongji.linezing.com/1097391/tongji.js"></script><noscript><a href="../www.linezing.com/default.htm"></a></noscript>　<a href="help.asp.htm"><strong>帮助</strong></a><br />
		    　<span style="font-size: 9px">Tyvj Information ---- <a href="rank.asp.htm">Total Users : 178</a> | <a href="online.asp.htm">Online Users / Processes : 60 / 17</a> | Processed Time : 16 ms | Server Time : 2013-1-3 16:36:38</span>		</td>
			<td width="60" valign="top"></td>
		  </tr>
		</table>
	  </td>
    </tr>
  </table>

<style>
#UserShowInfo {
	position:absolute;
	left:0;
	top:0;
	width:100%;
	height:68px;
	z-index:100;
	cursor: hand;
	filter: Alpha(Opacity=10, FinishOpacity=20, Style=1, StartX=0, StartY=0, FinishX=0, FinishY=70);
}
</style>

<div id="UserShowInfo">
    <div align="center">
    <table width="440" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td height="2">
		</td>
	  </tr>
      <tr>
        <td>
	  
		<table  width="0" border="0" align="left" cellpadding="0" cellspacing="1" bgcolor="#CCCCCC">
          <tr>
            <td><table width="100%" border="0" align="left" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
              <tr>
                <td width="48" rowspan="2"><img src="face/face158.gif" width="48" height="48"></td>
                <td><div align="center"><a href="user_show.aspid10761.htm" title="U10761 - 通过128题 - Member - 无 - P1280"><font color="#CC9966"><strong>张弛2015</strong></font></a></div></td>
              </tr>
              <tr>
                <td bordercolor="" dir=""><div align="center"><img src="face/stars8.gif" width="64" height="12"><img src="img/sex_0.gif" width="10" height="12" /></div></td>
              </tr>
              
            </table></td>
          </tr>
        </table>
</td>
      </tr>
    </table>
	</div>
</div>

</body>
</html>
