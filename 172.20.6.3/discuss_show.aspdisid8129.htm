<!doctype html public "-//w3c//dtd html 4.01 transitional//en" "http://www.w3.org/tr/html4/loose.dtd"><HTML>
<!-- saved from url=(0045)http://172.20.6.3/Discuss_Show.asp?DisID=8129 -->
<SCRIPT language="JavaScript">
<!--
  function CatchJavaScriptErrors() {return true;}
  window.onerror = CatchJavaScriptErrors;
//-->
</SCRIPT>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta http-equiv="Content-Language" content="zh-cn">
</head>


<html>
<head>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<title>Oj - vijos - 讨论</title>
<Meta http-equiv="Content-Type"      Content="text/html; charset=gb2312">
<Meta http-equiv="Pragma"            Content="No-cach">
<Meta name="Kyewords"                Content="Vijos,高效信息学在线评测系统,Velocious Informatics Judge Online System,Vivian Utopia,Viviworks,信息学,评测,OJ">
<Meta name="Description"             Content="Vijos,高效信息学在线评测系统,Velocious Informatics Judge Online System,Vivian Utopia,Viviworks,信息学,评测,OJ">
<Meta name="Robots"                  Content="All">
<Meta name="Author"                  Content="cp1305@163.com">
<Meta name="Copyright"               Content="Copyright Vijos (c) 2005. www.Vijos.cn Powered by Vivian Snow">
<Meta name="Generator "              Content="Dreamweaver,Visual Studio .net 2003">
<link href="skin/nature%20vert/style.css" rel="stylesheet" type="text/css">

<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<script language="javascript">
window.status="欢迎访问OJ!";
</script>
</head>
<body>
<div align="center">  
  <table width="750" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td colspan="2" align="center"><img src="skin/nature%20vert/haed.gif" width="750" height="70" border="0" usemap="#MapHead"></a><map name="MapHead" id="MapHead"><area shape="rect" coords="71,1,153,21" href="skin.asp.htm" alt="点击这里更换您喜欢的皮肤" /><area shape="rect" coords="0,0,750,70"  alt="首页" /></map></td>
    </tr>
	
    <tr>
      <td height="25" align="right" bgcolor="#174B73">
	  <font class="styletext">
	  
	  请点击<a href="default.htm"><font color="#FFFFFF"><b>这里</b></font></a>登入
	  
	  </font>&nbsp;<a href="default.htm"><font class="style3">首页</font></a>
	  <a href="core.asp.htm"><font class="style3">站务</font></a>
	  <a href="news.asp.htm"><font class="style3">公告</font></a> 
<a href="problem_data.asp.htm"><font class="style3">数据</a></font>
	  <font class="style3">|</font> <a href="problem.asp.htm"><font class="style3">题库</font></a>
	  <a href="categories.asp.htm"><font class="style3">分类</font></a>
	  <a href="record.asp.htm"><font class="style3">记录</font></a>
	  <a href="test.asp.htm"><font class="style3">测试</font></a>
	  <a href="rank.asp.htm"><font class="style3">排名</font></a>
	  <a href="group.asp.htm"><font class="style3">团队</font></a>
	  <a href="discuss.asp.htm"><font class="style3">讨论</font></a> <font class="style3">| </font><a href="skin.asp.htm"><font class="style3">换肤</font></a><font class="style3">|</font><a href="logout.asp"><font class="style3">登入</font></a><a href="reg_state.asp.htm"><font class="style3">注册</font></a>
	  </td>
      <td align="center" bgcolor="#174B73">&nbsp;</td>
    </tr>

    <tr>
      <td colspan="2" height="5" bgcolor="#1B5987"></td>
    </tr>
	<tr>
      <td colspan="2" align="center" bgcolor="#1B5987">
	  
	  
	  <table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
        <tr>
          <td width="14" height="14" background="skin/nature%20vert/frame_r1_c1.gif"></td>
          <td background="skin/nature%20vert/frame_r1_c2.gif"></td>
          <td width="14" height="14" background="skin/nature%20vert/frame_r1_c3.gif"></td>
        </tr>
        <tr>
          <td background="skin/nature%20vert/frame_r2_c1.gif"></td>
          <td width="712" align="left" valign="middle">
		  <marquee align="right" direction="left" scrollamount="4" onMouseOver="this.stop();" onMouseOut="this.start();">
		  <font color="#003366"><b>公告 News &gt;&gt;</b></font>
		  
		  　　<a href="news.asp.htm#12"><font color="#006699"><b>题库第5页是历年noip原题</b> (2012-3-5 17:19:20)</font></a>
		  
		  　　<a href="news.asp.htm#10"><font color="#006699"><b>第一次wa意味这道题的锻炼机会失去了。</b> (2012-2-15 16:35:47)</font></a>
		  
		  　　<a href="news.asp.htm#7"><font color="#006699"><b>程序设计=算法+数据结构</b> (2011-12-4 23:42:52)</font></a>
		  
		  　　<a href="news.asp.htm#6"><font color="#006699"><b>c++ = c plus plus = cpp</b> (2011-11-28 11:12:24)</font></a>
		  
		  　　<a href="news.asp.htm#1"><font color="#006699"><b>oj重新开张，注册须知，否则封号。</b> (2002-1-1 21:41:45)</font></a>
		  
		  </marquee>
		  </td>
          <td background="skin/nature%20vert/frame_r2_c3.gif"></td>
        </tr>
        <tr>
          <td width="14" height="14" background="skin/nature%20vert/frame_r3_c1.gif"></td>
          <td background="skin/nature%20vert/frame_r3_c2.gif"></td>
          <td width="14" height="14" background="skin/nature%20vert/frame_r3_c3.gif"></td>
        </tr>
      </table>
	  <hr>
	  </td>
    </tr>
  <table width="750" border="0" cellpadding="0" cellspacing="0">
	<tr>
      <td colspan="2" align="center" bgcolor="#1B5987">
<script>
document.title=document.title+" - C\C++代码规范 欢迎大家补充！！"
</script>
<table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
  <tr>
    <td width="14" height="14" background="skin/nature%20vert/frame_r1_c1.gif"></td>
    <td colspan="2" background="skin/nature%20vert/frame_r1_c2.gif"></td>
    <td width="14" height="14" background="skin/nature%20vert/frame_r1_c3.gif"></td>
  </tr>
  <tr>
    <td rowspan="2" background="skin/nature%20vert/frame_r2_c1.gif"></td>
    <td width="712" height="20" colspan="2" align="left" valign="top" class="style2">讨论 Discussion</td>
    <td rowspan="2" background="skin/nature%20vert/frame_r2_c3.gif"></td>
  </tr>
  <tr>
    <td width="10" align="left" valign="top">&nbsp;</td>
    <td width="702" align="right" valign="top"><table width="100%" border="0" cellpadding="5" cellspacing="1" bgcolor="#DFDFDF">
      <tr align="center" bgcolor="#F5F5F5">
        <td height="20" align="left" bgcolor="#B2B2B2"><a href="discuss_show.aspdisid8129.htm" style="font-weight: bold"><img src="face/icon1.gif" width="16" height="16" border="0"> C\C++代码规范 欢迎大家补充！！</a>
        </td>
      </tr>
      <tr align="center" bgcolor="#F5F5F5">
        <td align="left" valign="top">
		<table style="filter: Alpha(Opacity=50)" width="0" border="0" align="right" cellpadding="0" cellspacing="1" bgcolor="#CCCCCC">
          <tr>
            <td><table width="100%" border="0" align="left" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
              <tr>
                <td width="48" rowspan="2"><img src="face/face129.gif" width="48" height="48"></td>
                <td><div align="center"><a href="user_show.aspid10638.htm" title="U10638 - 通过306题 - Administrator - 无 - 管理 - 用户层更改"><font color="#3366CC"><strong>欧阳广奇2014</strong></font></a></div></td>
              </tr>
              <tr>
                <td bordercolor="" dir=""><div align="center"><img src="face/stars11.gif" width="64" height="12"><img src="img/sex_0.gif" width="10" height="12" /></div></td>
              </tr>
              
            </table></td>
          </tr>
        </table>
http://tieba.baidu.com/p/1276003390?pn=1<br>
<br>
发现N多人代码都不怎么规范，有的是旧标准的风格（MS被谭浩强带的），有的是Dev-C++的坏习惯。这些非常容易导致CE或RE，特发此帖。<br>
1.main函数类型与返回值，严重！！<br>
main函数一定要定义成int，不能用void，更不能用long（还没见过）。最后程序结束一定要打return 0;因为最终评测是在Linux下，如果不返回0的话系统会返回随机数，如果刚好返回的是错误代号（如-1)，那么整个程序判定运行错误，得0分。<br>
2.C与C++语法混淆<br>
曾经有一哥们找我求助，说他的C程序本机上编译通过，交到OJ却CE，我给他看了下，有这么几个错误。<br>
简略代码：<br>
void solve(...)<br>
{<br>
struct node *a,*b;<br>
.....<br>
struct node *root=(struct node*)malloc(sizeof(struct node));<br>
}<br>
报错！因为这里声明了临时变量，而C不允许声明临时变量。但是在某些编译系统下是可以通过的，为了保险起见，C就不要声明临时变量了。C＋＋可以。<br>
至于C＋＋的//注释，C99早已添加到C中，故可放心。<br>
还有，不要在C中用bool类型变量，这不是C的！另外C有一个带下划线的布尔类型，虽然与bool功能一致，但下划线开头是不允许使用的。<br>
3.include库文件<br>
相当严重的问题，原因是Dev-C++那个破程序造就的某些坏习惯。<br>
示例（为了清晰，我用C代码表示）：<br>
#include&lt;stdio.h&gt;<br>
int a[10000];<br>
int main()<br>
{<br>
......<br>
memset(a,0,sizeof(a));<br>
....<br>
return 0;<br>
}<br>
这段代码在Dev-C++下不会有问题，可如果放到Linux编译直接报错！！原因是memset函数并没有被声明在stdio.h里，而是在string.h（C＋＋是cstring）。但是Dev-C++因为采用旧版本的编译器，这样的代码可以通过。极度危险！！！！！<br>
因此，建议大家卸载Dev-C++安装其他的IDE（比如code::blocks），或者至少更新Dev-C++内置的编译器套件。最好的办法是直接使用Linux系统。<br>
另外，还有一些函数需要对应的库：<br>
malloc动态内存分配，使用的时候最好加上#include&lt;malloc.h&gt;，C＋＋是#include&lt;cmalloc&gt;。不然会提示警告，保险一点。<br>
qsort函数，在stdlib.h（C）和&lt;cstdlib&gt;（C＋＋）里。<br>
另外，使用C的同学请不要尝试包含C＋＋的头文件，否则后果自负……<br>
4.系统差异<br>
最终评测是在Linux下，但比赛时候可能用Windows，两者差异最严重的一点是换行的识别。Windows是\n和\r，Linux只有\n，因此在程序识别换行时，请务必考虑。尽量优化你的算法使其不受这点影响（大部分题不受影响，但要注意）。<br>
5.#include的格式<br>
主要问题是C＋＋的，经常见到这样的代码<br>
#include&lt;iostream&gt;<br>
#include&lt;cstdio&gt;<br>
#include&lt;string.h&gt;<br>
<br>
看出来了吗？C＋＋与C的头文件混用，尽管C＋＋兼容C的头文件，但是这样会引起一些潜在的错误（cstring与string.h是不一样的），因此，请在使用C函数的时候请一律去掉.h再在开头加上字母c！<br>
6.指针问题<br>
相当隐蔽，很多人甚至无法查出。<br>
示例：<br>
#include&lt;cstdio&gt;<br>
#include&lt;cstring&gt;<br>
int a[1000];<br>
void init(int a*)<br>
{<br>
memset(a,0,sizeof(a));<br>
.....<br>
}<br>
......<br>
<br>
原意是想通过init函数对a数组清零，但是事实上函数参数“int a*”只是传了个a的首地址指针过去，这样一个memset会只把a[0]变成0。<br>
解决方案：直接应用全局变量吧……传参还费时间呢<br>
<br>
7.文件处理<br>
如果使用fopen打开文件，请一定使用fclose关闭<br>
如果你使用文件流，按照C＋＋标准是不需要close关闭的，但是为了保险，还是使用close关闭吧！<br>
示例：<br>
#include&lt;stdio.h&gt;<br>
int main()<br>
{<br>
FILE *fp;<br>
fp=fopen(....&quot;);<br>
....<br>
fclose(fp);<br>
return 0;<br>
}<br>
#include&lt;fstream&gt;<br>
int main(void)<br>
{<br>
ifstream fin(....);<br>
....<br>
fin.close();<br>
return 0;<br>
}<br>
哪怕你用freopen重定向标准输入输出，也请你最后fclose(stdin);fclose(stdout);毕竟保险！C＋＋的cin和cout重定向也一样。<br>
<br>
另外，像Pascal会重点强调，在程序中如果中途强制退出程序时，请一定要保存好文件。C\C++也一样，退出程序函数是exit（和Pascal不同）。<br>
<br>
信息学竞赛千变万化，一个字母打错可能就导致满盘皆输，因此请大家一定要注意！！<br>
<br>
<br>
暂时就想到这么多，欢迎大家补充！！！<br>
              <span style="font-style: italic"><font size="1" style="color: #CCCCCC"> ( 2013-10-24 16:32:29 ) </font></span></td>
      </tr>
    </table>
        <hr>
		
        <table width="98%" border="0" cellpadding="5" cellspacing="1" bgcolor="#DFDFDF">
          
          <tr align="center" bgcolor="#F5F5F5">
            <td height="30">此主题无回复显示</td>
          </tr>
          
      </table>
	  </td>
  </tr>
  <tr>
    <td width="14" height="14" background="skin/nature%20vert/frame_r3_c1.gif"></td>
    <td colspan="2" background="skin/nature%20vert/frame_r3_c2.gif"></td>
    <td width="14" height="14" background="skin/nature%20vert/frame_r3_c3.gif"></td>
  </tr>
</table>
<table height="0" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
  <tr>
    <td width="14" height="14" background="skin/nature%20vert/frame_r1_c1.gif"></td>
    <td background="skin/nature%20vert/frame_r1_c2.gif"></td>
    <td width="14" height="14" background="skin/nature%20vert/frame_r1_c3.gif"></td>
  </tr>
  <tr>
    <td background="skin/nature%20vert/frame_r2_c1.gif"></td>
    <td width="712" valign="top"><table width="100%" height="25" border="0" cellpadding="0" cellspacing="0" bgcolor="#CCCCCC">
      <tr align="center">
        <td><span style="font-weight: bold"><a href="index.asp.htm">发布讨论主题</a></span></td>
        <td><span style="font-weight: bold"><a href="index.asp.htm">回复讨论主题</a></span></td>
      </tr>
    </table></td>
    <td background="skin/nature%20vert/frame_r2_c3.gif"></td>
  </tr>
  <tr>
    <td width="14" height="14" background="skin/nature%20vert/frame_r3_c1.gif"></td>
    <td background="skin/nature%20vert/frame_r3_c2.gif"></td>
    <td width="14" height="14" background="skin/nature%20vert/frame_r3_c3.gif"></td>
  </tr>
</table>
	  </td>
    </tr>
    <tr>
      <td colspan="2" height="5" bgcolor="#1B5987"></td>
    </tr>

    <tr>
      <td colspan="2" height="5" bgcolor="#003366"></td>
    </tr>
      </table>
	  
  <table width="750" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td colspan="2" align="center" height="50">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
		  <tr>
			<td align="left" valign="top">
			  　Copyright &copy; 2011-2011. Vijos 高效信息学在线评测系统</a>
			  <script type="text/javascript" src="../js.tongji.linezing.com/1097391/tongji.js"></script><noscript><a href="../www.linezing.com/default.htm"></a></noscript>　<a href="help.asp.htm"><strong>帮助</strong></a><br />
		    　<span style="font-size: 9px">Tyvj Information ---- <a href="rank.asp.htm">Total Users : 227</a> | <a href="online.asp.htm">Online Users / Processes : 71 / 398</a> | Processed Time : 16 ms | Server Time : 2014-1-21 17:00:26</span>		</td>
			<td width="60" valign="top"></td>
		  </tr>
		</table>
	  </td>
    </tr>
  </table>

<style>
#UserShowInfo {
	position:absolute;
	left:0;
	top:0;
	width:100%;
	height:68px;
	z-index:100;
	cursor: hand;
	filter: Alpha(Opacity=10, FinishOpacity=20, Style=1, StartX=0, StartY=0, FinishX=0, FinishY=70);
}
</style>

<div id="UserShowInfo">
    <div align="center">
    <table width="440" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td height="2">
		</td>
	  </tr>
      <tr>
        <td>
	  
		<table  width="0" border="0" align="left" cellpadding="0" cellspacing="1" bgcolor="#CCCCCC">
          <tr>
            <td><table width="100%" border="0" align="left" cellpadding="5" cellspacing="0" bgcolor="#FFFFFF">
              <tr>
                <td width="48" rowspan="2"><img src="face/face1.gif" width="48" height="48"></td>
                <td><div align="center"><a href="user_show.aspid1.htm" title="U1 - 通过0题 - Guest - 无 - 首页"><font color="#666666"><strong>Tyvj Guest</strong></font></a></div></td>
              </tr>
              <tr>
                <td bordercolor="" dir=""><div align="center"><img src="face/stars0.gif" width="64" height="12"><img src="img/sex_0.gif" width="10" height="12" /></div></td>
              </tr>
              
            </table></td>
          </tr>
        </table>
</td>
      </tr>
    </table>
	</div>
</div>

</body>
</html>
